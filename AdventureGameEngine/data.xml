<?xml version="1.0" encoding="utf-8"?>
<data>
  
  <title id="1">Adventure Game Engine</title>

  <!-- #### ASSETS ####-->
  <assets path="assets/">
    <sprite name="street">cyberpunk-street.png</sprite>
    <sprite name="indoor">bar.png</sprite>

    <spritemap src="cursors.png">
      <sprite name="cursorGeneric" xOffset="400" yOffset="0" width="200" height="188"/>
      <sprite name="cursorHighlight" xOffset="400" yOffset="200" width="200" height="188"/>
      <sprite name="cursorLoad" xOffset="0" yOffset="400" width="200" height="188"/>
    </spritemap>

    <spritemap src="keycards.png">
      <sprite name="keyRed" xOffset="6" yOffset="6" width="56" height="64"/>
      <sprite name="keyYellow" xOffset="68" yOffset="6" width="56" height="64"/>
      <sprite name="keyBlue" xOffset="130" yOffset="6" width="56" height="64"/>
    </spritemap>

    <spritemap src="doors.png">
      <sprite name="doorClosed" xOffset="192" yOffset="0" width="96" height="104"/>
      <sprite name="doorOpen" xOffset="192" yOffset="104" width="96" height="104"/>
      <sprite name="lightswitchOn" xOffset="11" yOffset="236" width="9" height="14"/>
      <sprite name="lightswitchOff" xOffset="11" yOffset="332" width="9" height="14"/>
    </spritemap>

    <spritemap src="indie_suite_transparent.png">
      <animation name="moveRight" xOffset="200" yOffset="0" width="50" height="80" steps="8" time="200"/>
      <animation name="moveRightReverse" xOffset="200" yOffset="0" width="50" height="80" steps="8" time="200"/>
      <animation name="moveUp" xOffset="600" yOffset="0" width="50" height="80" steps="6" time="200"/>
      <animation name="moveDown" xOffset="150" yOffset="80" width="50" height="80" steps="5" time="200"/>
      <sprite name="idleFromRight" xOffset="0" yOffset="0" width="50" height="80"/>
      <sprite name="idleFromLeft" xOffset="50" yOffset="0" width="50" height="80"/>
    </spritemap>

    <audio name="lightswitch">nameOfFile.ogg</audio>

    <font name="montserratR">Montserrat-Regular.ttf</font>
  </assets>

  <!-- #### SCENE 1 ####-->
  <scene name="street">

    <gameobject name="background" posX="0" posY="0" scaleX="1" scaleY="1" rotation="0">
      <sprite load="street" posX="0" posY="0" scaleX="5" scaleY="5" rotation="0" originX="0" originY="0" enabled="1"/>
      <navigationmesh scaleOnYDepth="0.5">
        <polygon id="1" type="include">
          <vector x="0" y="0"></vector>
          <vector x="1000" y="0"></vector>
          <vector x="0" y="1000"></vector>
          <vector x="1000" y="1000"></vector>
        </polygon>
        <polygon id="2" type="exclude">
          <vector x="450" y="450"></vector>
          <vector x="650" y="0"></vector>
          <vector x="0" y="650"></vector>
          <vector x="650" y="650"></vector>
        </polygon>
      </navigationmesh>
    </gameobject>

    <gameobject name="player" posX="1630" posY="710" scaleX="1" scaleY="1" rotation="0">
      <sprite load="idleFromRight" posX="0" posY="-50" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0"/>
      <sprite load="idleFromLeft" posX="0" posY="-50" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0"/>
      <animation load="moveUp" posX="0" posY="-50" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0"/>
      <animation load="moveDown" posX="0" posY="-50" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0"/>
      <animation load="moveRight" posX="0" posY="-50" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0" reverseplay="0"/>
      <animation load="moveRight" posX="-80" posY="-50" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0" reverseplay="0" mirrorX="1"/>
      <animationController idleRightIndex="0" idleLeftIndex="1" moveRightIndex="4" moveLeftIndex="5" moveUpIndex="2" moveDownIndex="3"/>
      <textbox posX="-180" posY="-90" scaleX="1" scaleY="1" rotation="0" originX="0" originY="0" enabled="1"/>
    </gameobject>

    <gameobject name="girl" posX="1630" posY="710" scaleX="1" scaleY="1" rotation="0">
      <sprite load="keyBlue" posX="0" posY="0" scaleX="0.4" scaleY="0.4" rotation="0" originX="0" originY="0" enabled="1"/>
      <textbox posX="-180" posY="-90" scaleX="1" scaleY="1" rotation="0" originX="0" originY="0" enabled="1"/>
    </gameobject>

    <gameobject name="key" posX="1330" posY="780" scaleX="1" scaleY="1" rotation="0">
      <sprite load="keyYellow" posX="0" posY="0" scaleX="0.4" scaleY="0.4" rotation="0" originX="0" originY="0" enabled="1"/>
      <text name="description" load="montserratR" lifetime="4">This is a key for a door.</text>
      <text name="pickup" load="montserratR" lifetime="4">This might be usefull.</text>
      <interaction type="pickup" enabled="1"/>
    </gameobject>

    <gameobject name="door" posX="32" posY="670" scaleX="1" scaleY="1" rotation="0">
      <sprite load="doorClosed" posX="0" posY="0" scaleX="1.5" scaleY="1.5" rotation="0" originX="0" originY="0" enabled="1"/>
      <sprite load="doorOpen" posX="0" posY="0" scaleX="1.5" scaleY="1.5" rotation="0" originX="0" originY="0" enabled="0"/>
      <text name="description" load="montserratR" lifetime="4">This is a door.</text>
      <text name="useFailure" load="montserratR" lifetime="4">I don't have the key to unlock the door.</text>
      <text name="useSuccess" load="montserratR" lifetime="4">This door is now open.</text>
      <interaction name="openDoor" type="useWithRequirement" neededGameObject="key" enabled="1">
        <enable>doorOpen</enable>
        <disable>doorClosed</disable>
        <enable>enterDoor</enable>
        <disable>openDoor</disable>
      </interaction>
      <interaction name="enterDoor" type="loadScene" enabled="0">
        <enable>indoor</enable>
      </interaction>
    </gameobject>

    <gameobject name="playerMoveToTarget" posX="1550" posY="850" scaleX="1" scaleY="1" rotation="0">
      <moveToTarget gameobject="player" movespeed="200"/>
      <sprite load="keyRed" posX="0" posY="0" scaleX="0.4" scaleY="0.4" rotation="0" originX="0" originY="0" enabled="1"/>
    </gameobject>

    <!-- #### CURSOR ####-->
    <gameobject name="cursor" posX="0" posY="0" scaleX="0.5" scaleY="0.5" rotation="0">
      <sprite load="cursorGeneric" posX="0" posY="0" scaleX="1" scaleY="1" rotation="0" originX="75" originY="53" enabled="1"/>
      <sprite load="cursorHighlight" posX="0" posY="0" scaleX="1" scaleY="1" rotation="0" originX="75" originY="53" enabled="0"/>
      <sprite load="cursorLoad" posX="0" posY="0" scaleX="1" scaleY="1" rotation="0" originX="75" originY="53" enabled="0"/>
      <cursor/>
    </gameobject>

    <sequence name="intro" enabled="1">
      <move object="player" posX="100" posY="100"/>
      <say object="girl" load="montserratR" lifetime="4">Thank you for comming by!</say>
      <say object="player" load="montserratR" lifetime="4">Phew... Hi, I am Indy.</say>
      <say object="player" load="montserratR" lifetime="4">An Indie-Developer, and I am going to walk you through the features of this Engine</say>
      <say object="player" load="montserratR" lifetime="4">Right now, you are in a sequence and therefore cannot interact with the game.</say>
      <say object="player" load="montserratR" lifetime="4">This is indicated by the hourglass at your cursor.</say>
      <move object="player" posX="200" posY="200"/>
      <say object="player" load="montserratR" lifetime="4">After this sequence, the cursor will either be an arrow indicating that you can go there...</say>
      <say object="player" load="montserratR" lifetime="4">Or it will be a magnifying glass telling that you can interact with something.</say>
      <say object="player" load="montserratR" lifetime="4">Left clicking will perform a default action like picking up or moveing to.</say>
      <say object="player" load="montserratR" lifetime="4">I will tell you more about an object, if you click it with the right mouse button.</say>
      <move object="player" posX="300" posY="300"/>
      <say object="player" load="montserratR" lifetime="4">The girls are fine. So you and I should check out the bar.</say>
      <say object="player" load="montserratR" lifetime="4">The bar is at the left end of this scene.</say>
    </sequence>

  </scene>

  <!-- #### SCENE 2 ####-->
  <scene name="indoor">
    
    <gameobject name="background" posX="0" posY="0" scaleX="1" scaleY="1" rotation="0">
      <sprite load="indoor" posX="0" posY="0" scaleX="4" scaleY="4" rotation="0" originX="0" originY="0" enabled="1"/>
      <navigationmesh scaleOnYDepth="2">
        <polygon id="1" type="include">
          <vector x="0" y="0"></vector>
          <vector x="1000" y="0"></vector>
          <vector x="0" y="1000"></vector>
          <vector x="1000" y="1000"></vector>
        </polygon>
        <polygon id="2" type="exclude">
          <vector x="450" y="450"></vector>
          <vector x="650" y="0"></vector>
          <vector x="0" y="650"></vector>
          <vector x="650" y="650"></vector>
        </polygon>
      </navigationmesh>
    </gameobject>

    <gameobject name="player" posX="1630" posY="710" scaleX="8" scaleY="8" rotation="0">
      <sprite load="idleFromRight" posX="0" posY="0" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0"/>
      <sprite load="idleFromLeft" posX="0" posY="0" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0"/>
      <animation load="moveUp" posX="0" posY="0" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0"/>
      <animation load="moveDown" posX="0" posY="0" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0"/>
      <animation load="moveRight" posX="0" posY="0" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0" reverseplay="0"/>
      <animation load="moveRight" posX="-80" posY="0" scaleX="1.7" scaleY="1.7" rotation="0" originX="25" originY="40" enabled="0" reverseplay="0" mirrorX="1"/>
      <animationController idleRightIndex="0" idleLeftIndex="1" moveRightIndex="4" moveLeftIndex="5" moveUpIndex="2" moveDownIndex="3"/>
      <textbox posX="-180" posY="-90" scaleX="1" scaleY="1" rotation="0" originX="0" originY="0" enabled="1"/>
    </gameobject>

    <gameobject name="playerMoveToTarget" posX="1550" posY="850" scaleX="1" scaleY="1" rotation="0">
      <moveToTarget gameobject="player" movespeed="200"/>
      <sprite load="keyRed" posX="0" posY="0" scaleX="0.4" scaleY="0.4" rotation="0" originX="0" originY="0" enabled="1"/>
    </gameobject>
    
    <gameobject name="lightswitch" posX="0" posY="0" scaleX="1" scaleY="1" rotation="0">
      <sprite load="lightswitchOff" posX="0" posY="0" scaleX="1" scaleY="1" rotation="0" originX="0" originY="0" enabled="1"/>
      <description load="montserratR" id="1" enabled="1">A lightswitch.</description>
      <interaction type="clickable" range="100">
        <enable type="gameobject">background</enable>
        <playaudio load="lightswitch"/>
      </interaction>
    </gameobject>

    <!-- #### CURSOR ####-->
    <gameobject name="cursor" posX="0" posY="0" scaleX="0.5" scaleY="0.5" rotation="0">
      <sprite load="cursorGeneric" posX="0" posY="0" scaleX="1" scaleY="1" rotation="0" originX="75" originY="53" enabled="1"/>
      <sprite load="cursorHighlight" posX="0" posY="0" scaleX="1" scaleY="1" rotation="0" originX="75" originY="53" enabled="0"/>
      <sprite load="cursorLoad" posX="0" posY="0" scaleX="1" scaleY="1" rotation="0" originX="75" originY="53" enabled="0"/>
      <cursor/>
    </gameobject>
    
  </scene>
  
</data>